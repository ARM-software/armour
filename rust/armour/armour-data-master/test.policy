external logger @ "log_sock" {
  fn log(_) -> ()
}

fn require(req: HttpRequest, client: ID, server: ID) -> bool {
  logger::log(req, client, server);
  req.route() == ["a"]
}

fn client_payload(payload: data) -> bool {
  payload.len() < 10
}

fn server_payload(payload: data) -> bool {
  4 < payload.len()
}
