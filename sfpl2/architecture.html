<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-02-13 Wed 13:15 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Gustavo Petri" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org31afe3c">1. SPFL Objectives and Requirements</a>
<ul>
<li><a href="#org3fb2189">1.1. TODO</a></li>
</ul>
</li>
<li><a href="#org681f873">2. SFPL Proposed Syntax</a></li>
<li><a href="#org8c1394d">3. Distributed Architecture</a>
<ul>
<li><a href="#orga5a0f4e">3.1. Architecture Overview</a></li>
<li><a href="#org304f33f">3.2. And SFPL monitored call</a></li>
<li><a href="#org560955c">3.3. Implementation aspects</a>
<ul>
<li><a href="#org37a11ff">3.3.1. Centralized monitoring:</a></li>
<li><a href="#orgc58a2fe">3.3.2. Multi-oracle pre/post-conditions</a></li>
<li><a href="#orgf03f5f6">3.3.3. Ingress vs. egress validation</a></li>
<li><a href="#org52779b2">3.3.4. Manipulation of the abstract state</a></li>
<li><a href="#org288bb6e">3.3.5. Implementation of the Oracles</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org54c3be2">4. Publish Subscribe (PubSub) Architecture</a>
<ul>
<li><a href="#org0c6e36f">4.1. An SFPL monitored publish</a></li>
</ul>
</li>
<li><a href="#org981779a">5. Demonstration Use-case</a>
<ul>
<li><a href="#org551cfd0">5.1. Use Case Architecture</a>
<ul>
<li><a href="#org652b49f">5.1.1. API</a></li>
<li><a href="#org45dd220">5.1.2. Verification conditions</a></li>
<li><a href="#orgf3c3ff7">5.1.3. Notes:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org31afe3c" class="outline-2">
<h2 id="org31afe3c"><span class="section-number-2">1</span> SPFL Objectives and Requirements</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org3fb2189" class="outline-3">
<h3 id="org3fb2189"><span class="section-number-3">1.1</span> TODO</h3>
</div>
</div>

<div id="outline-container-org681f873" class="outline-2">
<h2 id="org681f873"><span class="section-number-2">2</span> SFPL Proposed Syntax</h2>
</div>

<div id="outline-container-org8c1394d" class="outline-2">
<h2 id="org8c1394d"><span class="section-number-2">3</span> Distributed Architecture</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orga5a0f4e" class="outline-3">
<h3 id="orga5a0f4e"><span class="section-number-3">3.1</span> Architecture Overview</h3>
<div class="outline-text-3" id="text-3-1">

<div id="org1afed05" class="figure">
<p><img src="figures/descentralized-arch.png" alt="descentralized-arch.png" width="600px" />
</p>
<p><span class="figure-number">Figure 1: </span>Descentralized Architecture</p>
</div>

<p>
Figure <a href="#org1afed05">1</a> presents a view of the architecture
planned for SFPL running only two containerized services: Service1 and
Service2. Each of the services has a single connection to an SFPL
Monitor, which is implemented by a data-processing proxy. These
monitors enact the SFPL policy related to the service to which they
connect. In particular, SFPL policies might need to keep track of some
abstraction of the state being manipulated by the application. Typical
examples would be the tracking of sessions, the monitoring of data and
information flows, etc. 
To avoid exposing the application code to the policy, SFPL keeps an
abstract version of the state being manipulated by the application. In
particular, a good design would only keep the data strictly necessary
to implement the policies at hand.
The current implementation of SFPL would define for the public API of
each service a number of pre and post-conditions that define whether
the calls are allowed to be made, depending on the caller, the
receiver, and the current abstract state as tracked by the SFPL
monitors. Since the SFPL policies could predicate on this state, we
provide service oracles, which are query functions on the current
abstract state to validate or deny a particular call.
In the example of <a href="#org1afed05">1</a> there are only two services,
and to simplify the argument we have chosen to have an oracle for each
for them. In a nutshell, these oracles keep the SFPL-related state
that is required to validate the pre and post-conditions of the calls
made and received by each of the services.
Finally, we would have a central SFPL control plane which takes care
of the coordination and distribution of the policies to the concerned
monitors. We will leave this component rather abstract for the time
being.
</p>
</div>
</div>

<div id="outline-container-org304f33f" class="outline-3">
<h3 id="org304f33f"><span class="section-number-3">3.2</span> And SFPL monitored call</h3>
<div class="outline-text-3" id="text-3-2">

<div id="orge262193" class="figure">
<p><img src="figures/descentralized-call-seq.png" alt="descentralized-call-seq.png" width="600px" />
</p>
<p><span class="figure-number">Figure 2: </span>Template for a REST request under the descentralized architecture</p>
</div>


<p>
Figure <a href="#orge262193">2</a> presents the call sequence of a REST
request issued from Service1 to Service2. Below is a description of
the sequence of calls:
</p>
<ol class="org-ol">
<li>A call from Service1 to Service2 is mediated by the SFPL Monitor
proxy (S1Monitor),</li>
<li>The Monitor evaluates the pre-condition of the call by issuing calls
to the Oracle maintaining the abstract state of Service1. In
essence, this is the state that SF PL records to enforce the policy
of Service1,</li>
<li>Assuming that the pre-condition check succeeds, the call can proceed
from the monitor S1Monitor to the monitor of the target of the
call: S2Monitor,</li>
<li>Upon receving the call, the S2Monitor might additionally perform
some pre-condition checks related to the execution of the call from
the stand-point of Service2. Notice that since we assume that all
the monitors are controlled by a single controller, the checks on
egress of S1Monitor and ingress of S2Monitor might be collapsed to
a single check. In that case the checking monitor might need to
access both S1Oracle, and S2Oracle. Moreover, while in the diagram
the oracles are separated as different services, they could reside
in a single monitor,</li>
<li>If all checks sauced, the call is actually forwarded to Service2
which executes it and returns the response to its SFPL monitor for
further processing,</li>
<li>When receiving the response, S2Monitor could chose to verify the
post-condition of the call, again this requires consulting S2Oracle
(under the same provisions discussed above),</li>
<li>Similar to the steps 2 and 4 above,</li>
<li>The S2Monitor responds to S1Monitor, which might do some more
post-condition checks,</li>
<li>Same as 2, 4 and 7,</li>
<li>If all checks are accepted the response is delivered to the
client.</li>
</ol>
</div>
</div>

<div id="outline-container-org560955c" class="outline-3">
<h3 id="org560955c"><span class="section-number-3">3.3</span> Implementation aspects</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Many of the components depicted in <a href="#orge262193">2</a> can be
simplified, and/or implemented in a number of different ways, we
consider here a number of simplifying options. 
</p>
</div>
<div id="outline-container-org37a11ff" class="outline-4">
<h4 id="org37a11ff"><span class="section-number-4">3.3.1</span> Centralized monitoring:</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
In this case, there would be a single central monitor that validates
all requests. This monitor would intercept all calls made by any
service, evaluate the pre-condition, forward the call to the receiver,
intercept the answer, evaluate the post-condition and only then
forward the answer to the caller. In this scenario the oracles could
all reside with the monitor, or be implemented as a single separate
services. This option will be considered in the next section. 
</p>
</div>
</div>
<div id="outline-container-orgc58a2fe" class="outline-4">
<h4 id="orgc58a2fe"><span class="section-number-4">3.3.2</span> Multi-oracle pre/post-conditions</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
While in the example above we have chosen to connect each monitor to a
single oracle, each monitor could query more than one oracle
(including other services oracles) since they are under the control of
SFPL. A challenge for SPFL is to separate the oracles in a way that
minimizes rpc calls, and therefore latency. 
</p>
</div>
</div>
<div id="outline-container-orgf03f5f6" class="outline-4">
<h4 id="orgf03f5f6"><span class="section-number-4">3.3.3</span> Ingress vs. egress validation</h4>
<div class="outline-text-4" id="text-3-3-3">
<p>
In the call example above we have chosen to verify each pre-condition
and post-condition both at ingress and egress, requiring a total of 4
additional roun-trips to evaluate the assertions. This is not strictly
necessary: some amount of coordination between the ingress checking
and the egress checking could make it so that the pre/post-conditions
can be checked only at one site. Moreover, we could simplify SPFL to
assume that checks are performed only on ingress or egress.
</p>
</div>
</div>
<div id="outline-container-org52779b2" class="outline-4">
<h4 id="org52779b2"><span class="section-number-4">3.3.4</span> Manipulation of the abstract state</h4>
<div class="outline-text-4" id="text-3-3-4">
<p>
While it simplifies the description to imagine that each service has
its own abstract state, the management of the abstract state and the
decomposition into services are not necessarily related. It could be
the case that multiple oracles are implemented as a single unit. 
</p>
</div>
</div>
<div id="outline-container-org288bb6e" class="outline-4">
<h4 id="org288bb6e"><span class="section-number-4">3.3.5</span> Implementation of the Oracles</h4>
<div class="outline-text-4" id="text-3-3-5">
<p>
There are numerous implementation choices for the oracles. Here we
present a number of options. We will consider the advantages and
disadvantages of each of them in the future: 
</p>
</div>
<ol class="org-ol">
<li><a id="orgac5aabf"></a>Each oracle is implemented as a standalone service/server<br /></li>
<li><a id="org124fd76"></a>Each oracle is implemented as a process along-side with the monitors<br /></li>
<li><a id="org16820e5"></a>The oracles are implemented as a shim-layer on top of existing programming languages/frameworks for distributed programming<br /></li>
<li><a id="orgad77d69"></a>The oracles are embedded in the RPC mechanism used for the application<br /></li>
<li><a id="orga745ed7"></a>The oracles are centralized in the controller of SFLL<br /></li>
<li><a id="org78072b3"></a>&#x2026;<br /></li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org54c3be2" class="outline-2">
<h2 id="org54c3be2"><span class="section-number-2">4</span> Publish Subscribe (PubSub) Architecture</h2>
<div class="outline-text-2" id="text-4">
<p>
In this case we consider a simplified view of the architecture
presented above, where we restrict the communication of the services
to utilize an SFPL-capable Publish/Subscribe like broker. We will
develop this solution as a first attempt at demonstrating the
capabilities enabled by SFPL.
</p>


<div id="org6fea610" class="figure">
<p><img src="figures/PubSub-arch.png" alt="PubSub-arch.png" width="400px" />
</p>
<p><span class="figure-number">Figure 3: </span>Publish Subscribe Architecture</p>
</div>

<p>
Figure <a href="#org6fea610">3</a> shows a proposed architecture where the
policies of SFPL are evaluated in a centralized server in the style of
a PubSub broker. As in the previous section we only have two services
that communicate with each other through this centralized broker. 
Unlike in the section before, a typical request in this scenario does
not involve the response phase, since only publish events are
considered.
Most aspects of this architecture are self-explanatory, with perhaps
the most salient difference being that the whole abstract state is
managed/contained with the broker. This vastly simplifies the
architecture of the previous section. 
</p>
</div>

<div id="outline-container-org0c6e36f" class="outline-3">
<h3 id="org0c6e36f"><span class="section-number-3">4.1</span> An SFPL monitored publish</h3>
<div class="outline-text-3" id="text-4-1">

<div id="orgeed072b" class="figure">
<p><img src="figures/PubSub-call-sequence.png" alt="PubSub-call-sequence.png" width="400px" />
</p>
<p><span class="figure-number">Figure 4: </span>Publish Subscribe Publication</p>
</div>

<p>
Figure <a href="#orgeed072b">4</a> replicates the steps of
<a href="#orge262193">2</a>, but we can see that there is a single point
at which the pre-condition needs to be evaluated. All the other steps
follow the description from the previous section when considering that
there is no response in this case. 
</p>
</div>
</div>
</div>

<div id="outline-container-org981779a" class="outline-2">
<h2 id="org981779a"><span class="section-number-2">5</span> Demonstration Use-case</h2>
<div class="outline-text-2" id="text-5">
<p>
We consider a simple application where a user, an analytics service
and a data base cooperate. In this case, the data-base records
information that is private to the user, and the analytics service
queries the user data from the data-base to perform some analysis on
the data. Prior to using the user data, the analytics service must
demand consent from the user. 
In the interest of simplicity we will only simulate the consent
mechanism, leaving out concerns on communication authorization, data
validation, timeouts or error cases. We will also ignore
post-conditions. We assume that consent refers only to the use or not
of the database service with a particular userID.
</p>
</div>

<div id="outline-container-org551cfd0" class="outline-3">
<h3 id="org551cfd0"><span class="section-number-3">5.1</span> Use Case Architecture</h3>
<div class="outline-text-3" id="text-5-1">

<div id="org9975509" class="figure">
<p><img src="figures/consent-arch.png" alt="consent-arch.png" width="600px" />
</p>
<p><span class="figure-number">Figure 5: </span>Consent App Architecture</p>
</div>
</div>


<div id="outline-container-org652b49f" class="outline-4">
<h4 id="org652b49f"><span class="section-number-4">5.1.1</span> API</h4>
<div class="outline-text-4" id="text-5-1-1">
<ul class="org-ul">
<li>We assume that each service is published as a topic at which it can
receive requests
<ol class="org-ol">
<li><div class="org-src-container">
<pre class="src src-REST:">/user/requestConsent(userID)
</pre>
</div></li>
<li><div class="org-src-container">
<pre class="src src-REST:">/analytics/grantedConsent(analytics, userID)
</pre>
</div></li>
<li><div class="org-src-container">
<pre class="src src-REST:">/db/readData(userID)
</pre>
</div></li>
<li><div class="org-src-container">
<pre class="src src-REST:">/analytics/sendData(userID, data)
</pre>
</div></li>
</ol></li>
<li>The operations are numbered as they occur in the figure above</li>
</ul>
</div>
</div>
<div id="outline-container-org45dd220" class="outline-4">
<h4 id="org45dd220"><span class="section-number-4">5.1.2</span> Verification conditions</h4>
<div class="outline-text-4" id="text-5-1-2">
<ul class="org-ul">
<li>Below we provide the assertions that need to be checked by the
monitor to check the correct execution of the monitor
<ol class="org-ol">
<li>No pre-condition, post-condition or effect</li>
<li><p>
No pre or post-condition.
</p>

<p>
Effect: 
</p>
<div class="org-src-container">
<pre class="src src-python:">consentOracle.grantConsent(analytics, userID)
</pre>
</div></li>
<li><p>
Pre-condition: 
</p>
<div class="org-src-container">
<pre class="src src-python:">consentOracle.hasConsent(analytics, userID)
</pre>
</div>

<p>
No effect or post-condition.
</p></li>
<li><p>
No pre or post-condition.
</p>

<p>
Effect: 
</p>
<div class="org-src-container">
<pre class="src src-python:">consentOracle.revokeConsent(analytics, userID)
</pre>
</div></li>
</ol></li>
</ul>
</div>
</div>
<div id="outline-container-orgf3c3ff7" class="outline-4">
<h4 id="orgf3c3ff7"><span class="section-number-4">5.1.3</span> Notes:</h4>
<div class="outline-text-4" id="text-5-1-3">
<p>
This is a simplistic policy whose only purpose is to check that a
simple consent policy is followed. Essentially we verify that before
each query to the data base, the querying service has been provided
consent by the user service on the userID that is being requested.
A lot of other concerns are left aside in the interest of simplicity.
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Gustavo Petri</p>
<p class="date">Created: 2019-02-13 Wed 13:15</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>