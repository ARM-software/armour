HTTP performance
Latency

Latency and Throughput using wrk2, each test is run for 60s
test7000-1
./wrk2/wrk -c1 -t1 -R7000 -d60s --latency http://srv-nginx:80
Running 30s test @ http://srv-nginx:80
  1 threads and 1 connections
  Thread calibration: mean lat.: 4681.347ms, rate sampling interval: 16826ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    18.72s     5.40s   28.05s    57.84%
    Req/Sec   454.00      0.00   454.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   18.74s 
 75.000%   23.40s 
 90.000%   26.20s 
 99.000%   27.89s 
 99.900%   28.05s 
 99.990%   28.07s 
 99.999%   28.07s 
100.000%   28.07s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    9363.455     0.000000            3         1.00
   11239.423     0.100000          912         1.11
   13123.583     0.200000         1820         1.25
   14999.551     0.300000         2729         1.43
   16859.135     0.400000         3635         1.67
   18743.295     0.500000         4546         2.00
   19677.183     0.550000         5000         2.22
   20611.071     0.600000         5456         2.50
   21544.959     0.650000         5912         2.86
   22478.847     0.700000         6365         3.33
   23396.351     0.750000         6814         4.00
   23871.487     0.775000         7047         4.44
   24330.239     0.800000         7269         5.00
   24805.375     0.825000         7502         5.71
   25264.127     0.850000         7727         6.67
   25722.879     0.875000         7951         8.00
   25952.255     0.887500         8063         8.89
   26198.015     0.900000         8181        10.00
   26427.391     0.912500         8292        11.43
   26673.151     0.925000         8411        13.33
   26902.527     0.937500         8523        16.00
   27017.215     0.943750         8578        17.78
   27131.903     0.950000         8634        20.00
   27246.591     0.956250         8689        22.86
   27361.279     0.962500         8746        26.67
   27492.351     0.968750         8809        32.00
   27541.503     0.971875         8833        35.56
   27590.655     0.975000         8858        40.00
   27656.191     0.978125         8889        45.71
   27721.727     0.981250         8921        53.33
   27770.879     0.984375         8945        64.00
   27803.647     0.985938         8961        71.11
   27836.415     0.987500         8977        80.00
   27869.183     0.989062         8993        91.43
   27885.567     0.990625         9001       106.67
   27918.335     0.992188         9018       128.00
   27934.719     0.992969         9026       142.22
   27951.103     0.993750         9034       160.00
   27967.487     0.994531         9042       182.86
   27983.871     0.995313         9050       213.33
   27983.871     0.996094         9050       256.00
   28000.255     0.996484         9059       284.44
   28000.255     0.996875         9059       320.00
   28016.639     0.997266         9066       365.71
   28016.639     0.997656         9066       426.67
   28033.023     0.998047         9074       512.00
   28033.023     0.998242         9074       568.89
   28033.023     0.998437         9074       640.00
   28033.023     0.998633         9074       731.43
   28049.407     0.998828         9082       853.33
   28049.407     0.999023         9082      1024.00
   28049.407     0.999121         9082      1137.78
   28049.407     0.999219         9082      1280.00
   28049.407     0.999316         9082      1462.86
   28049.407     0.999414         9082      1706.67
   28049.407     0.999512         9082      2048.00
   28049.407     0.999561         9082      2275.56
   28049.407     0.999609         9082      2560.00
   28049.407     0.999658         9082      2925.71
   28065.791     0.999707         9085      3413.33
   28065.791     1.000000         9085          inf
#[Mean    =    18723.211, StdDeviation   =     5395.961]
#[Max     =    28049.408, Total count    =         9085]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  13622 requests in 30.00s, 10.73MB read
Requests/sec:    454.04
Transfer/sec:    366.25KB
test7000-2
./wrk2/wrk -c1 -t1 -R7000 -d60s --latency http://srv-nginx:80
Running 30s test @ http://srv-nginx:80
  1 threads and 1 connections
  Thread calibration: mean lat.: 4676.730ms, rate sampling interval: 16842ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    18.69s     5.40s   28.05s    57.70%
    Req/Sec   452.00      0.00   452.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   18.66s 
 75.000%   23.36s 
 90.000%   26.18s 
 99.000%   27.89s 
 99.900%   28.05s 
 99.990%   28.07s 
 99.999%   28.07s 
100.000%   28.07s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    9363.455     0.000000            1         1.00
   11239.423     0.100000          906         1.11
   13090.815     0.200000         1810         1.25
   14934.015     0.300000         2711         1.43
   16809.983     0.400000         3620         1.67
   18661.375     0.500000         4517         2.00
   19611.647     0.550000         4973         2.22
   20545.535     0.600000         5422         2.50
   21495.807     0.650000         5878         2.86
   22429.695     0.700000         6327         3.33
   23363.583     0.750000         6775         4.00
   23838.719     0.775000         7003         4.44
   24313.855     0.800000         7234         5.00
   24772.607     0.825000         7454         5.71
   25247.743     0.850000         7683         6.67
   25706.495     0.875000         7904         8.00
   25952.255     0.887500         8023         8.89
   26181.631     0.900000         8132        10.00
   26427.391     0.912500         8250        11.43
   26656.767     0.925000         8361        13.33
   26886.143     0.937500         8472        16.00
   27000.831     0.943750         8527        17.78
   27115.519     0.950000         8583        20.00
   27246.591     0.956250         8643        22.86
   27361.279     0.962500         8697        26.67
   27475.967     0.968750         8753        32.00
   27541.503     0.971875         8784        35.56
   27607.039     0.975000         8815        40.00
   27656.191     0.978125         8838        45.71
   27721.727     0.981250         8870        53.33
   27770.879     0.984375         8893        64.00
   27803.647     0.985938         8908        71.11
   27836.415     0.987500         8924        80.00
   27869.183     0.989062         8940        91.43
   27901.951     0.990625         8956       106.67
   27918.335     0.992188         8964       128.00
   27934.719     0.992969         8971       142.22
   27951.103     0.993750         8979       160.00
   27967.487     0.994531         8987       182.86
   27983.871     0.995313         8994       213.33
   28000.255     0.996094         9002       256.00
   28000.255     0.996484         9002       284.44
   28016.639     0.996875         9010       320.00
   28016.639     0.997266         9010       365.71
   28033.023     0.997656         9018       426.67
   28033.023     0.998047         9018       512.00
   28033.023     0.998242         9018       568.89
   28049.407     0.998437         9026       640.00
   28049.407     0.998633         9026       731.43
   28049.407     0.998828         9026       853.33
   28049.407     0.999023         9026      1024.00
   28049.407     0.999121         9026      1137.78
   28049.407     0.999219         9026      1280.00
   28065.791     0.999316         9033      1462.86
   28065.791     1.000000         9033          inf
#[Mean    =    18685.530, StdDeviation   =     5396.160]
#[Max     =    28049.408, Total count    =         9033]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  13545 requests in 30.00s, 10.67MB read
Requests/sec:    451.50
Transfer/sec:    364.20KB
test7000-3
./wrk2/wrk -c1 -t1 -R7000 -d60s --latency http://srv-nginx:80
Running 30s test @ http://srv-nginx:80
  1 threads and 1 connections
  Thread calibration: mean lat.: 4663.606ms, rate sampling interval: 16826ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    18.71s     5.39s   28.05s    57.76%
    Req/Sec   452.00      0.00   452.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   18.71s 
 75.000%   23.38s 
 90.000%   26.18s 
 99.000%   27.89s 
 99.900%   28.05s 
 99.990%   28.07s 
 99.999%   28.07s 
100.000%   28.07s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    9363.455     0.000000            4         1.00
   11239.423     0.100000          907         1.11
   13115.391     0.200000         1813         1.25
   14983.167     0.300000         2717         1.43
   16859.135     0.400000         3620         1.67
   18710.527     0.500000         4526         2.00
   19644.415     0.550000         4982         2.22
   20561.919     0.600000         5428         2.50
   21495.807     0.650000         5880         2.86
   22446.079     0.700000         6340         3.33
   23379.967     0.750000         6789         4.00
   23838.719     0.775000         7011         4.44
   24313.855     0.800000         7241         5.00
   24772.607     0.825000         7463         5.71
   25247.743     0.850000         7691         6.67
   25722.879     0.875000         7920         8.00
   25952.255     0.887500         8031         8.89
   26181.631     0.900000         8142        10.00
   26427.391     0.912500         8261        11.43
   26656.767     0.925000         8371        13.33
   26886.143     0.937500         8482        16.00
   27017.215     0.943750         8544        17.78
   27131.903     0.950000         8600        20.00
   27246.591     0.956250         8655        22.86
   27361.279     0.962500         8710        26.67
   27475.967     0.968750         8765        32.00
   27541.503     0.971875         8797        35.56
   27590.655     0.975000         8821        40.00
   27656.191     0.978125         8852        45.71
   27721.727     0.981250         8884        53.33
   27770.879     0.984375         8907        64.00
   27803.647     0.985938         8923        71.11
   27836.415     0.987500         8939        80.00
   27869.183     0.989062         8954        91.43
   27885.567     0.990625         8962       106.67
   27918.335     0.992188         8978       128.00
   27934.719     0.992969         8986       142.22
   27951.103     0.993750         8994       160.00
   27967.487     0.994531         9002       182.86
   27983.871     0.995313         9010       213.33
   28000.255     0.996094         9018       256.00
   28000.255     0.996484         9018       284.44
   28000.255     0.996875         9018       320.00
   28016.639     0.997266         9026       365.71
   28016.639     0.997656         9026       426.67
   28033.023     0.998047         9034       512.00
   28033.023     0.998242         9034       568.89
   28033.023     0.998437         9034       640.00
   28033.023     0.998633         9034       731.43
   28049.407     0.998828         9042       853.33
   28049.407     0.999023         9042      1024.00
   28049.407     0.999121         9042      1137.78
   28049.407     0.999219         9042      1280.00
   28049.407     0.999316         9042      1462.86
   28049.407     0.999414         9042      1706.67
   28049.407     0.999512         9042      2048.00
   28065.791     0.999561         9046      2275.56
   28065.791     1.000000         9046          inf
#[Mean    =    18706.450, StdDeviation   =     5391.105]
#[Max     =    28049.408, Total count    =         9046]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  13597 requests in 30.00s, 10.71MB read
Requests/sec:    453.21
Transfer/sec:    365.58KB
test7000-4
./wrk2/wrk -c1 -t1 -R7000 -d60s --latency http://srv-nginx:80
Running 30s test @ http://srv-nginx:80
  1 threads and 1 connections
  Thread calibration: mean lat.: 4685.554ms, rate sampling interval: 16875ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    18.71s     5.40s   28.05s    57.81%
    Req/Sec   451.00      0.00   451.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   18.73s 
 75.000%   23.38s 
 90.000%   26.20s 
 99.000%   27.89s 
 99.900%   28.05s 
 99.990%   28.07s 
 99.999%   28.07s 
100.000%   28.07s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    9363.455     0.000000            2         1.00
   11231.231     0.100000          906         1.11
   13099.007     0.200000         1806         1.25
   14974.975     0.300000         2710         1.43
   16842.751     0.400000         3612         1.67
   18726.911     0.500000         4516         2.00
   19677.183     0.550000         4971         2.22
   20611.071     0.600000         5421         2.50
   21528.575     0.650000         5868         2.86
   22462.463     0.700000         6321         3.33
   23379.967     0.750000         6768         4.00
   23855.103     0.775000         6999         4.44
   24330.239     0.800000         7227         5.00
   24788.991     0.825000         7449         5.71
   25264.127     0.850000         7677         6.67
   25722.879     0.875000         7899         8.00
   25968.639     0.887500         8016         8.89
   26198.015     0.900000         8127        10.00
   26427.391     0.912500         8237        11.43
   26656.767     0.925000         8348        13.33
   26902.527     0.937500         8466        16.00
   27017.215     0.943750         8522        17.78
   27131.903     0.950000         8577        20.00
   27246.591     0.956250         8633        22.86
   27361.279     0.962500         8689        26.67
   27475.967     0.968750         8744        32.00
   27541.503     0.971875         8776        35.56
   27590.655     0.975000         8800        40.00
   27656.191     0.978125         8831        45.71
   27705.343     0.981250         8855        53.33
   27770.879     0.984375         8884        64.00
   27803.647     0.985938         8900        71.11
   27836.415     0.987500         8916        80.00
   27869.183     0.989062         8932        91.43
   27901.951     0.990625         8947       106.67
   27918.335     0.992188         8955       128.00
   27934.719     0.992969         8962       142.22
   27951.103     0.993750         8970       160.00
   27967.487     0.994531         8978       182.86
   27983.871     0.995313         8986       213.33
   28000.255     0.996094         8994       256.00
   28000.255     0.996484         8994       284.44
   28016.639     0.996875         9002       320.00
   28016.639     0.997266         9002       365.71
   28033.023     0.997656         9010       426.67
   28033.023     0.998047         9010       512.00
   28033.023     0.998242         9010       568.89
   28033.023     0.998437         9010       640.00
   28049.407     0.998633         9017       731.43
   28049.407     0.998828         9017       853.33
   28049.407     0.999023         9017      1024.00
   28049.407     0.999121         9017      1137.78
   28049.407     0.999219         9017      1280.00
   28065.791     0.999316         9024      1462.86
   28065.791     1.000000         9024          inf
#[Mean    =    18710.351, StdDeviation   =     5399.026]
#[Max     =    28049.408, Total count    =         9024]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  13563 requests in 30.00s, 10.68MB read
Requests/sec:    452.08
Transfer/sec:    364.66KB
test7000-5
./wrk2/wrk -c1 -t1 -R7000 -d60s --latency http://srv-nginx:80
Running 30s test @ http://srv-nginx:80
  1 threads and 1 connections
  Thread calibration: mean lat.: 4675.056ms, rate sampling interval: 16842ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    18.72s     5.38s   28.05s    57.90%
    Req/Sec   453.00      0.00   453.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   18.73s 
 75.000%   23.36s 
 90.000%   26.20s 
 99.000%   27.89s 
 99.900%   28.05s 
 99.990%   28.07s 
 99.999%   28.07s 
100.000%   28.07s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    9363.455     0.000000            1         1.00
   11247.615     0.100000          908         1.11
   13131.775     0.200000         1815         1.25
   15024.127     0.300000         2721         1.43
   16875.519     0.400000         3628         1.67
   18726.911     0.500000         4540         2.00
   19644.415     0.550000         4991         2.22
   20578.303     0.600000         5446         2.50
   21495.807     0.650000         5895         2.86
   22429.695     0.700000         6351         3.33
   23363.583     0.750000         6802         4.00
   23838.719     0.775000         7030         4.44
   24313.855     0.800000         7258         5.00
   24788.991     0.825000         7484         5.71
   25264.127     0.850000         7714         6.67
   25722.879     0.875000         7935         8.00
   25968.639     0.887500         8054         8.89
   26198.015     0.900000         8166        10.00
   26427.391     0.912500         8278        11.43
   26673.151     0.925000         8395        13.33
   26902.527     0.937500         8508        16.00
   27017.215     0.943750         8564        17.78
   27131.903     0.950000         8620        20.00
   27246.591     0.956250         8676        22.86
   27361.279     0.962500         8731        26.67
   27475.967     0.968750         8786        32.00
   27541.503     0.971875         8817        35.56
   27607.039     0.975000         8849        40.00
   27656.191     0.978125         8873        45.71
   27721.727     0.981250         8904        53.33
   27770.879     0.984375         8927        64.00
   27803.647     0.985938         8943        71.11
   27836.415     0.987500         8959        80.00
   27869.183     0.989062         8975        91.43
   27901.951     0.990625         8990       106.67
   27918.335     0.992188         8998       128.00
   27934.719     0.992969         9007       142.22
   27951.103     0.993750         9015       160.00
   27967.487     0.994531         9023       182.86
   27983.871     0.995313         9031       213.33
   28000.255     0.996094         9039       256.00
   28000.255     0.996484         9039       284.44
   28016.639     0.996875         9047       320.00
   28016.639     0.997266         9047       365.71
   28016.639     0.997656         9047       426.67
   28033.023     0.998047         9055       512.00
   28033.023     0.998242         9055       568.89
   28033.023     0.998437         9055       640.00
   28049.407     0.998633         9063       731.43
   28049.407     0.998828         9063       853.33
   28049.407     0.999023         9063      1024.00
   28049.407     0.999121         9063      1137.78
   28049.407     0.999219         9063      1280.00
   28049.407     0.999316         9063      1462.86
   28049.407     0.999414         9063      1706.67
   28065.791     0.999512         9068      2048.00
   28065.791     1.000000         9068          inf
#[Mean    =    18717.194, StdDeviation   =     5384.691]
#[Max     =    28049.408, Total count    =         9068]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  13587 requests in 30.00s, 10.70MB read
Requests/sec:    452.87
Transfer/sec:    365.30KB
